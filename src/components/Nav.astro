---
---

<nav id="main-nav" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300 translate-y-[-100%] opacity-0" aria-label="Hoofdnavigatie">
	<div class="max-w-7xl mx-auto px-6 lg:px-8 py-3 flex items-center justify-between">
		<a href="#hero" class="font-heading font-semibold text-lg text-[var(--color-brand-primary-text)] hover:text-[var(--color-brand-accent)] transition-colors duration-300">
			Crystal Helder
		</a>
		<div class="hidden sm:flex items-center gap-6 text-sm font-medium text-[var(--color-brand-muted)]">
			<a href="#aanpak" class="hover:text-[var(--color-brand-accent)] transition-colors duration-300">Aanpak</a>
			<a href="#traject" class="hover:text-[var(--color-brand-accent)] transition-colors duration-300">Over mij</a>
			<a href="#faq" class="hover:text-[var(--color-brand-accent)] transition-colors duration-300">FAQ</a>
			<a href="#kennismaking" class="inline-flex items-center px-5 py-2 rounded-full bg-[var(--color-brand-accent)] text-white text-sm font-medium hover:bg-[var(--color-brand-accent-hover)] transition-all duration-300 hover:-translate-y-0.5">
				Contact
			</a>
		</div>
		{/* Mobile: only show CTA button */}
		<a href="#kennismaking" class="sm:hidden inline-flex items-center px-4 py-2 rounded-full bg-[var(--color-brand-accent)] text-white text-sm font-medium hover:bg-[var(--color-brand-accent-hover)] transition-all duration-300">
			Contact
		</a>
	</div>
</nav>

<script>
	function initNav() {
		const nav = document.getElementById('main-nav');
		if (!nav) return;

		const hero = document.getElementById('hero');
		if (!hero) return;

		const observer = new IntersectionObserver(
			([entry]) => {
				if (entry.isIntersecting) {
					// Hero is visible — hide nav
					nav.classList.add('translate-y-[-100%]', 'opacity-0');
					nav.classList.remove('translate-y-0', 'opacity-100', 'bg-white/80', 'backdrop-blur-md', 'shadow-sm');
				} else {
					// Hero scrolled away — show nav
					nav.classList.remove('translate-y-[-100%]', 'opacity-0');
					nav.classList.add('translate-y-0', 'opacity-100', 'bg-white/80', 'backdrop-blur-md', 'shadow-sm');
				}
			},
			{ threshold: 0, rootMargin: '-80px 0px 0px 0px' }
		);

		observer.observe(hero);
	}

	initNav();
	document.addEventListener('astro:page-load', initNav);
</script>
